(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{xd46:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return c})),a.d(t,"default",(function(){return g}));var n=a("k1TG"),r=a("8o2o"),o=(a("q1tI"),a("7ljp")),i=a("013z"),c=(a("T0C+"),a("qKvR"),{}),s=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(o.b)("div",t)}},l=s("PageDescription"),p=s("AnchorLinks"),b=s("AnchorLink"),m={_frontmatter:c},d=i.a;function g(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)(d,Object(n.a)({},m,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)(l,{mdxType:"PageDescription"}),Object(o.b)("h2",null,"Install Cloud Pak for Data 3.0.1 on IBM Managed Openshift 4.3"),Object(o.b)(p,{mdxType:"AnchorLinks"},Object(o.b)(b,{mdxType:"AnchorLink"},"Sizing Openshift Cluster for Cloud Pak for Data 3.0.1"),Object(o.b)(b,{mdxType:"AnchorLink"},"Provision Openshift 4.3 Cluster on IBM Cloud"),Object(o.b)(b,{mdxType:"AnchorLink"},"Setting up Openshift Cluster for Cloud Pak for Data Installation"),Object(o.b)(b,{mdxType:"AnchorLink"},"Setting Portworx Storage"),Object(o.b)(b,{mdxType:"AnchorLink"},"Download Installation files"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing Control Plane"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing Data Virtualization"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing Watson Studio"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing Watson Machine Learning"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing Watson Openscale"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing Cognos Dashboards"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing Watson Knowledge Catalog"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing DataStage Enterprise"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing Regulatory Accelerator"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing DB2 Warehouse"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing DB2 Advanced Edition"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing Cognos Analytics"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing Watson Assistant"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing Watson Discovery"),Object(o.b)(b,{mdxType:"AnchorLink"},"Installing Watson Knowledge Studio")),Object(o.b)("h3",null,"Sizing Openshift Cluster for Cloud Pak for Data 3.0.1"),Object(o.b)("p",null,"Sizing Worker Nodes based on Services that are to be installed. Refer : ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://salesconfig.ibmcloudpack.com/sales/#/zen/configure"}),"https://salesconfig.ibmcloudpack.com/sales/#/zen/configure"),"\nTo do the sizing"),Object(o.b)("p",null,"Please note that if you want to install Watson AI services (Watson Assistant, Watson Discovery, Watson AIOps, Watson Language Translator, Watson Speech to Text, Watson Text to Speech) size them separately as they will need bare metal worker nodes and will not work on virtual server worker nodes."),Object(o.b)("h3",null,"Provision Openshift 4.3 Cluster on IBM Cloud"),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Note:")," Make sure you have Administrator and Manager lever permission on the account where you are provisioning the cluster."),Object(o.b)("p",null,"Provision Openshift 4.3 Cluster from IBM Cloud console. Select Virtual Server Worker nodes based on the above sizing calculations. If you are installing Watson AI services, we will add Bare metal worker nodes post the cluster creation."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}},"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"59.375%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABqklEQVQoz22S6Y6CQBCEeVOfwd8qcnu8iPcTYeKt67HqKqCRjbVU4yDEJanMMMl8U9XdmmEYqFarME0zk2VZcF1X5Hke6vU6+v0+4vgXYRjidougvufz+d4n0mzbzoFM2LYD5wXLA7vdDoLwLhd/LlcsFgucz2d5YL/fY7vdJg/doBmGCcpxHBBuJXJc7wPY6XRw/P5GlAC+9if4/hi73Q7Xa4D1eo35fI4gCKCZSTzrJQLSvSlwPtJsNqHrdfR6PVwuF3EUhoEATqcT7vc7NpuNQKMoSiMroMR1ilIOCWSkx+ORXLxJZAWk0wzI2rExBNuOK3E9778adiVSHMficjKZ4Hg8yiOr1QrL5VLOtXxcglRUghSUwMFgkHWTEDpiU+jwcDhIU7LIBPAi1zS6ncG451gNh8MMSKfj8Vi6SyDdzWaz1KGbGxEVUcHVf61WKzikE8ZUNSSYjREg41QqFYlF6bqeOcw3JQ/M15DAdw2TyLzA0eCqXDUaDRHP07HRPxwSoIDscuawXC6jVCqJq1arVVC73RYgI49Go0INfd+XqGwQR2g6ncr5H0eP8G+bsPVoAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Openshift Cluster Provision",title:"IBM Openshift Cluster Provision",src:"/ibm-enterprise-runbooks/static/594de0bde398b0446df863604f46e623/7ccc2/ProvisionCluster.png",srcSet:["/ibm-enterprise-runbooks/static/594de0bde398b0446df863604f46e623/7fc1e/ProvisionCluster.png 288w","/ibm-enterprise-runbooks/static/594de0bde398b0446df863604f46e623/a5df1/ProvisionCluster.png 576w","/ibm-enterprise-runbooks/static/594de0bde398b0446df863604f46e623/7ccc2/ProvisionCluster.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(o.b)("p",null,"Once the cluster is created, create a new worker pool which will have bare metal servers required for Watson AI Services installation."),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}},"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"102.43055555555556%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACYUlEQVQ4y5WU6a7aQAyF8/6vhZBAAn4hlrLvSyA7gYTFnc8wNORSVUWyhtjx8Tm2M06lUpFqtSqdTkfq9bpaq9WSdrst3W5X/Rj/G42G1Go1aTabGu/3+9Lr9T7McV1X9rutZFkm5/NZ7XQ66Xm5XD4MX5qmGucsxzHH9z1xvViiCIvE931NSJJE4jj+YfgB+1vcmc2mslht3yAw3e/3Cny73eTxeMj9flfjGRabzUbj1o/xHrnOdDqV8Xgk6/XqCZjnMhgMZDabKZPy73RKtXej0ehHPDe5DtWWy6XQyzAMlYWlT8+oDKsgCPQ5v15VwfF4VEDivEsclc5ut1NATl66XM4SGWAkAYAMAEkmCRb0GjW2DfiuppAORadsKnqeZ4AC+TU/yHA0Nr6dvlj8AY5k5K7Xa33+IXm73cpisTAArlL3w0QOh4MmUORmKsfpVdzwKmFsJOeZKiGPOCw1zyiCtfYQI4gjzy7iGsb4kIwUKmMMzG4BLcJnZXO+JcOGKjSVpKmZMKwBLP/o5Xg81pxyS1QyrACySwsj2MKQITBFgNkAwIhbyeQQJ59B6ZTLXwFV7LOVlL+k2tNO2Uq1LaHwB6BKznIZDocyn88Li/t4HU82LPZkMpGTAX26Hy/J2VNy0Vhc3w/Moh9UJgwAoQ1x8izoeb64ZhNoCXF7B+iUScJhWYZRIlFsepqkegbhH9/+GMvBozXpOx6+4mFk+hgbQL6S1Wr1rlC8RZIkfvmKz+Xbp3TbkPDt7isaX8e3q+rr9cVXAcviLpb7+j+mkpkaU6XxSFczDQ8Kxu79y8j/DeA8+jOAA1m2AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Openshift Cluster Config",title:"IBM Openshift Cluster Config",src:"/ibm-enterprise-runbooks/static/669652e13f3b4bef6c0716f1291a55bd/7ccc2/ClusterConfig.png",srcSet:["/ibm-enterprise-runbooks/static/669652e13f3b4bef6c0716f1291a55bd/7fc1e/ClusterConfig.png 288w","/ibm-enterprise-runbooks/static/669652e13f3b4bef6c0716f1291a55bd/a5df1/ClusterConfig.png 576w","/ibm-enterprise-runbooks/static/669652e13f3b4bef6c0716f1291a55bd/7ccc2/ClusterConfig.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(o.b)("p",null,"Once the cluster is ready, launch its console and on the right top corner, from copy login command, get the token to login to Openshift cluster remotely using cli"),Object(o.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}},"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"30.90277777777778%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABQ0lEQVQY052NwUoCYRSF5zEiiuhlgkB6gdTMcKWEYpuip8hHaJWZzoxudYJaJUUgJFRU6KDOOM7M/2cUE/j1I20i2nTh4xwO596r9Z9e6PV62HafwXDA2HUJgoAwDH8ThPi+jxACEQqVCaQIad5Kji3Jsx2g3T/cM3LGTHx1REgcx6Vv20gpcV2VTybzA1K+MnIHPPbvGE8c/MDH9Rw8zyNQzwbDkWKIdn5xydvHJ76YMn2PaF/fcHJSxqw3OKvW0A0Dw6wrNanUzqhUK+h1HcPQqZtKVa+mm5TLZSqnp2jFQoFcLkc2myWd3mYrmST5TSKR+OHjm3FSqRSZTEZ1d+Y7ud08+UKRw4N99gp5tOWVVRYWlzgqlWg0GjSbTSzL+pNWq/UDS9FuX3HX7dLpdNDW1mOsxzbodB/578xmM6IomvsvdoGI/Xu8BBAAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Openshift Cluster Config",title:"IBM Openshift Cluster Config",src:"/ibm-enterprise-runbooks/static/a564c22f5d65d0c4d106e31c350ac91e/7ccc2/CopyToken.png",srcSet:["/ibm-enterprise-runbooks/static/a564c22f5d65d0c4d106e31c350ac91e/7fc1e/CopyToken.png 288w","/ibm-enterprise-runbooks/static/a564c22f5d65d0c4d106e31c350ac91e/a5df1/CopyToken.png 576w","/ibm-enterprise-runbooks/static/a564c22f5d65d0c4d106e31c350ac91e/7ccc2/CopyToken.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(o.b)("p",null,"Make sure you have a system with Openshift and IBM Cloud cli installed.\n",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://cloud.ibm.com/docs/openshift?topic=openshift-openshift-cli#cli_oc"}),"https://cloud.ibm.com/docs/openshift?topic=openshift-openshift-cli#cli_oc"),"\n",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://cloud.ibm.com/docs/cli/reference/bluemix_cli/download_cli.html"}),"https://cloud.ibm.com/docs/cli/reference/bluemix_cli/download_cli.html")),Object(o.b)("p",null,"Execute oc login command obtained in above step from Openshift Web Console"),Object(o.b)("h3",null,"Setting up Openshift Cluster for Cloud Pak for Data Installation"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Create an external route of Openshift Image registry.\nUse token obtained in abive step to login from a system to OpenShift Cluster and run below commands to create an external route"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc create route reencrypt --service=image-registry -n openshift-image-registry\noc annotate route image-registry --overwrite haproxy.router.openshift.io/balance=source -n openshift-image-registry\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Resize image registry storage volume\nDefault size of Openshift image registry will not be sufficient to load images if you are going to install multiple Services on Cloud Pak for Data. Hence it needs to be resized to 200GB. Run below commands to do it."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"ibmcloud login\n")),Object(o.b)("p",{parentName:"li"},"(login into Account where your Openshift Cluster is setup)"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"registry_pv=`oc get pvc -n openshift-image-registry | grep \"image-registry-storage\" | awk '{print $3}'`\nvolid=`oc describe pv $registry_pv -n openshift-image-registry | grep volumeId`\nIFS='='\nread -ra vol <<< \"$volid\"\nvolume=${vol[1]}\necho volume id is $volume\nibmcloud sl file volume-modify $volume --new-size 200 --new-tier 10 –force\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Set kernel parameters (",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.ibm.com/support/knowledgecenter/SSQNUZ_3.0.1/cpd/install/node-settings.html"}),"https://www.ibm.com/support/knowledgecenter/SSQNUZ_3.0.1/cpd/install/node-settings.html"),")\nSince we do not have ssh access to worker nodes on ROKS, we will use daemonset to perform kernel parameter settings. Create setkernelparameters.yaml file with below contents"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-apiVersion:",metastring:"tuned.openshift.io/v1","tuned.openshift.io/v1":!0}),"kind: Tuned\nmetadata:\n  name: cp4d-wkc-ipc\n  namespace: openshift-cluster-node-tuning-operator\nspec:\n  profile:\n  - name: cp4d-wkc-ipc\n    data: |\n      [main]\n      summary=Tune IPC Kernel parameters on OpenShift Worker Nodes running WKC Pods\n      [sysctl]\n      kernel.shmall = 33554432\n      kernel.shmmax = 68719476736\n      kernel.shmmni = 16384\n      kernel.sem = 250 1024000 100 16384\n      kernel.msgmax = 65536\n      kernel.msgmnb = 65536\n      kernel.msgmni = 32768\n      vm.max_map_count = 262144\n  recommend:\n  - match:\n    - label: node-role.kubernetes.io/worker\n    priority: 10\n    profile: cp4d-wkc-ipc\n")),Object(o.b)("p",{parentName:"li"},"Run below commands to do the changes"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc project kube-system\noc create -f setkernelparameters.yaml\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Change NFS mount settings\nIf you are using IBM Cloud File Storage for PVC creation, we need to make sure pvcs are mounted with root permissions. "),Object(o.b)("p",{parentName:"li"},"a.\tCreate a service account called norootsquash by running the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc create -f - << EOF\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: norootsquash\n  namespace: kube-system\nEOF\n")),Object(o.b)("p",{parentName:"li"},"b.\tGive the service account privileged security context constraints (SCC) by running the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc adm policy add-scc-to-user privileged system:serviceaccount:kube-system:norootsquash\n")),Object(o.b)("p",{parentName:"li"},"c.\tCreate the daemonset by running the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'oc create -f - << EOF\napiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: norootsquash\n  namespace: kube-system\n  labels:\n    tier: management\n    app: norootsquash\nspec:\n  selector:\n    matchLabels:\n      name: norootsquash\n  template:\n    metadata:\n      labels:\n        name: norootsquash\n    spec:\n      serviceAccountName: norootsquash\n      initContainers:\n        - resources:\n            requests:\n              cpu: 0.1\n          securityContext:\n            privileged: true\n          image: alpine:3.6\n          name: unrootsquash\n          command: ["chroot", "/host", "sh", "-c"]\n          args:\n            - >\n              grep "^Domain = slnfsv4.com" /etc/idmapd.conf;\n              if [ "\\$?" -ne "0" ] ; then\n                sed -i \'s/.*Domain =.*/Domain = slnfsv4.com/g\' /etc/idmapd.conf;\n                nfsidmap -c;\n                rpc.idmapd\n              fi;\n          volumeMounts:\n            - name: host\n              mountPath: /host\n      containers:\n        - resources:\n            requests:\n              cpu: 0.1\n          image: alpine:3.6\n          name: sleep\n          command: ["/bin/sh", "-c"]\n          args:\n            - >\n              while true; do\n                sleep 100000;\n              done\n      volumes:\n        - hostPath:\n            path: /\n            type: Directory\n          name: host\nEOF\n')))),Object(o.b)("h3",null,"Setting Portworx Storage"),Object(o.b)("p",null,"Watson AI services (Watson Assistant, Watson Discovery, Watson Knowledge Studio, Watson Speech to Text and Watson text to Speech) install is currently supported only with Enterprise Portworx storage. Follow the steps mentioned below to set that up for ROKS. Make sure you are logged in to IBM Cloud and Openshift using CLI (ibmcloud and oc)"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Attach Block Storage to worker nodes (",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://cloud.ibm.com/docs/containers?topic=containers-utilities#block_storage_attacher"}),"https://cloud.ibm.com/docs/containers?topic=containers-utilities#block_storage_attacher"),")"),Object(o.b)("p",{parentName:"li"},"a.\tInstall helm on your local system from where you are running the commands. (",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/helm/helm/releases"}),"https://github.com/helm/helm/releases"),")"),Object(o.b)("p",{parentName:"li"},"b.\tRun below command"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc project kube-system\n")),Object(o.b)("p",{parentName:"li"},"c.  Below command should return 0 results"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc get serviceaccount -n kube-system | grep tiller\n")),Object(o.b)("p",{parentName:"li"},"d.  Run below commands"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc create serviceaccount tiller -n kube-system\noc create clusterrolebinding tiller --clusterrole=cluster-admin --serviceaccount=kube-system:tiller -n kube-system\noc get serviceaccount -n kube-system tiller\nhelm init --service-account tiller\noc get pods -n kube-system -l app=helm\nhelm repo add iks-charts https://icr.io/helm/iks-charts\nhelm repo add ibm-charts https://raw.githubusercontent.com/IBM/charts/master/repo/stable\nhelm repo add ibm-community https://raw.githubusercontent.com/IBM/charts/master/repo/community\nhelm repo add entitled https://raw.githubusercontent.com/IBM/charts/master/repo/entitled\nhelm repo update\nhelm install iks-charts/ibm-block-storage-attacher --name block-attacher\noc get pod -n kube-system -o wide | grep attacher\noc get storageclasses | grep attacher\nmkdir cp4d\ncd cp4d\ngit clone https://github.com/IBM/ibmcloud-storage-utilities.git\ncd ibmcloud-storage-utilities/block-storage-provisioner\n")),Object(o.b)("p",{parentName:"li"},"e.\tvi yamlgen.yaml (provide the storage as you would need for your application, clustername and size of the block storage. Min 500 GB is required for Watson Assistant)\nProvide the storage details i.e your Openshift Cluster name and region where it is located."),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"28.47222222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA1ElEQVQY03WQ6wqFQAiEe/8HrKAoCipqu9+LyPiE3R8HjiCrq47jeNu2yTzPsq6r+jRNmvNPPo6jxsuyaG0YBnV6sPd9nWNe3/fSNI1UVSXEvHVd60DbttJ1ncbUAH2ex/mvAeqlaSphGArveZ4KniSJxHEsQRBIWZa6hP/ruhToOA6571t933f9dwx939fBKIqkKAplBxPAORGGOGxhatlSQxJqyOIAYQIDCjRgbGYQdsYYHbBg6Ge1JWc5LN3JWZZJnudOB04CkEaGGfynl2Vlc+wDyiPMe2d9XxwAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Block Storage Provisioning",title:"IBM Block Storage Provisioning",src:"/ibm-enterprise-runbooks/static/f15439157f2ad53bb1b05408311f67dd/7ccc2/yamlgen.png",srcSet:["/ibm-enterprise-runbooks/static/f15439157f2ad53bb1b05408311f67dd/7fc1e/yamlgen.png 288w","/ibm-enterprise-runbooks/static/f15439157f2ad53bb1b05408311f67dd/a5df1/yamlgen.png 576w","/ibm-enterprise-runbooks/static/f15439157f2ad53bb1b05408311f67dd/7ccc2/yamlgen.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(o.b)("p",{parentName:"li"},"f.\tCreate Classic Infrastructure Key"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"On IBM Cloud Console, from menu bar select Manage -> Access"),Object(o.b)("li",{parentName:"ul"},"Select API keys tab and from drop down select Classic Infrastructure API keys."),Object(o.b)("li",{parentName:"ul"},"If one is already listed, click Actions menu (3 dots) > Details"),Object(o.b)("li",{parentName:"ul"},"Copy API username and API key")),Object(o.b)("p",{parentName:"li"},Object(o.b)("span",Object(n.a)({parentName:"p"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"30.208333333333332%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABMElEQVQY03VQzYqCUBT2TazI3ASZIoSrdg09S8/gokVC2M6X8RV6gII2GVldHX+CUtSKb7wnRoZh5sLHuec7f985gizLaLfb6HQ6ME0Tq9WKYNv2v+Dx5XIJa7GAZVkwDAOtVguz2QyCqqqQJAm6ruN4PCLLMjweDzyfzz/xer0a+/2m0yk1XK/XEAaDAbrdLobDIbbbLeI4hu/7YIwhiiIEQUD/y+VClrG3z2o+/EwQ1fkfkwlEUYTrum+FvV4PiqJgt9shTVMEdUEQhEiSBNfrlbif4DwfnNaW+47jYD6fY7PZQBiPx9RsNBoRsd979eonnM8nUnI4HBrFXCUHVx2GYZ1zhud5NDTPcxok9Pt9WlnTNAoWRYUsL+mOVVXRTX+jLEuKFUWB+/2O2+3W8F9/g3uQtAgChwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Cloud API keys",title:"IBM Cloud API keys",src:"/ibm-enterprise-runbooks/static/2c396c797f1c4577cae78bdb7d1b88a0/7ccc2/CopyAPIKeys.png",srcSet:["/ibm-enterprise-runbooks/static/2c396c797f1c4577cae78bdb7d1b88a0/7fc1e/CopyAPIKeys.png 288w","/ibm-enterprise-runbooks/static/2c396c797f1c4577cae78bdb7d1b88a0/a5df1/CopyAPIKeys.png 576w","/ibm-enterprise-runbooks/static/2c396c797f1c4577cae78bdb7d1b88a0/7ccc2/CopyAPIKeys.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")," "),Object(o.b)("p",{parentName:"li"},"g.\texport SL_USERNAME=infrastructure username obtained in above step"),Object(o.b)("p",{parentName:"li"},"h.\texport SL_API_KEY=infrastructure API key obtained in above step"),Object(o.b)("p",{parentName:"li"},"i.\tEdit Dockerfile and update first line to “FROM ubuntu:18.04”"),Object(o.b)("p",{parentName:"li"},"j.\tEdit px_iks_utils.py (only if you have virtual server nodes as well as bare metal nodes, this is to avoid attaching block storage on virtual server nodes). Add below line on line number 83  : ",Object(o.b)("inlineCode",{parentName:"p"},"if re.search('m[a-z]3c', w['machineType']):")," It should like this "),Object(o.b)("p",{parentName:"li"},Object(o.b)("span",Object(n.a)({parentName:"p"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"716px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"18.40277777777778%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAp0lEQVQY041P2QqEMBDz/79OQfG+j7Za8VHQapbJUtjHDZQ5k0mDeZ6x7zu01liWBX3fo65rVFUFpRQE7/vCw+e/PcHzPIzBeZ4UM8ZQKI5j5HmOpmmQZRmstWjbluLbtvFo13WcT9NEjpiQveu6voKCdV0pJuSyLJGmKYqigPwgiiLm0j+OA845ku/7ZpQnDsV1kCQJl/zlYRhIDMOQ9TiOnInIP/gAWzQth9YCJdwAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Block Storage Provisioning",title:"IBM Block Storage Provisioning",src:"/ibm-enterprise-runbooks/static/51f6531beb6a141ae821e8882edceabd/6fd9a/px_iks_utils.png",srcSet:["/ibm-enterprise-runbooks/static/51f6531beb6a141ae821e8882edceabd/7fc1e/px_iks_utils.png 288w","/ibm-enterprise-runbooks/static/51f6531beb6a141ae821e8882edceabd/a5df1/px_iks_utils.png 576w","/ibm-enterprise-runbooks/static/51f6531beb6a141ae821e8882edceabd/6fd9a/px_iks_utils.png 716w"],sizes:"(max-width: 716px) 100vw, 716px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")," Add “import re” on the top below existing import statements."),Object(o.b)("p",{parentName:"li"},"k.\tRun below commands and check for annotation ibm.io/attachstatus: attached"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"docker build -t mkpvyaml .\ndocker run --rm -v `pwd`:/data -v ~/.bluemix:/config -e SL_API_KEY=$SL_API_KEY -e SL_USERNAME=$SL_USERNAME mkpvyaml\noc apply -f pv-<cluster-name>.yaml\noc describe pv <pvname created in above step>\n")),Object(o.b)("p",{parentName:"li"},"l.\tCordon nodes which are not bare metal server with below command. Execute below command for each non bare metal node."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc adm cordon <node-name>\n")),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"18.055555555555554%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAsElEQVQY002PyQqEYAyDff938yTuC/q7IYi7IF4yfIVh5lDatGnSesMwaJom7fuutm0VBIH6vrceM2LbNsVxbPN5ng1nWab3fXUch5IkMf6yLPLqujYyIs45RVEkelVVqSxLywhQ53luhmDq8zx137dxMPB9X17TNErTVF3XiRo3rl3X1RzJz/OYIBGGofU4AuHrulQUxU8Q8BXkMjAkXvkPxFhCiKv4CB5m4zhasP8BuyQl8svTL+QAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Block Storage Provisioning",title:"IBM Block Storage Provisioning",src:"/ibm-enterprise-runbooks/static/5a46fd7ac72090949c4c49f4c5f9d398/7ccc2/CornonNodes.png",srcSet:["/ibm-enterprise-runbooks/static/5a46fd7ac72090949c4c49f4c5f9d398/7fc1e/CornonNodes.png 288w","/ibm-enterprise-runbooks/static/5a46fd7ac72090949c4c49f4c5f9d398/a5df1/CornonNodes.png 576w","/ibm-enterprise-runbooks/static/5a46fd7ac72090949c4c49f4c5f9d398/7ccc2/CornonNodes.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To use internal portworx key-value database instead of etcd service, copy the imagepull secret from default to kube-system namespace."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'oc get secrets -n default | grep icr\noc get secret -n default all-icr-io -o yaml | sed \'s/default/kube-system/g\' | oc -n kube-system create -f -\noc patch -n kube-system serviceaccount/default --type=\'json\' -p=\'[{"op":"add","path":"/imagePullSecrets/-","value":{"name”:”all-icr-io"}}]\'\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"From IBM Cloud Catalog, provision “Portworx Enterprise” service. Select same region as your Openshift Cluster. Select Enterprise plan from Pricing Plan. In IBM Cloud API Key, mention same key which was used to create block storage in above steps.  Select “Portworx KVDB” from Portworx metadata key-value store dropdown."),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"61.45833333333333%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABWUlEQVQoz4WTS3eDIBCF+f9/KwsXeZ9k0WXjSasEUR5KTDfTuaR4iE3axXdAuAxzh1EcDgdaLpe03+9pu93SZrOZwPdut4uk+Xq9psViESmKIq6D1WpFx+ORhFKKzuczVVVFZVnS6XSawFpd17/A+nwP38YYEk3TkJSSuq57AJt935P3Po6vwH6OwMEUYBiGB+YHnXP/XiDatiVkCeH1en0KguNS6DD/Sye858g8CSHQ7TYyt4lxHCfy9TlpHzHuGeqWOusnjIU1F2+ECKQMrbXRek7SxQy11vRZSZKqpfpyx7r+qWVoX9lFljHgvdCOwsBBwhBtJ5u5EAWfP9qzxxOwW0sVUQ23DL92spULYTf1HubIFiNKllrGOW4b3Vm2qUlpQ63xU6C8foEzl6x5Lyv6qJsfdCzPRaOGIbr5GtlyLDb/LYbHeaOm7FLxkXn+AGmEBiUr3gb6Bh7GjlpJ3mlnAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Portworx Service",title:"IBM Portworx Service",src:"/ibm-enterprise-runbooks/static/e0326b142428132e274faa9cb4e7afb5/7ccc2/PortworxService.png",srcSet:["/ibm-enterprise-runbooks/static/e0326b142428132e274faa9cb4e7afb5/7fc1e/PortworxService.png 288w","/ibm-enterprise-runbooks/static/e0326b142428132e274faa9cb4e7afb5/a5df1/PortworxService.png 576w","/ibm-enterprise-runbooks/static/e0326b142428132e274faa9cb4e7afb5/7ccc2/PortworxService.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Check if portworx pods are created and up successfully."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc get pods -n kube-system | grep 'portworx\\|stork'\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to one of the portworx pods and list the status of your Portworx cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"PX_POD=$(oc get pods -l name=portworx -n kube-system -o jsonpath='{.items[0].metadata.name}')\noc exec $PX_POD -n kube-system -- /opt/pwx/bin/pxctl status\n")),Object(o.b)("p",{parentName:"li"},"Non-bare metal server worker nodes will be listed with No StorageNode."),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"902px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"45.138888888888886%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABLUlEQVQoz5WSbW+CQBCE7///QCUaSXyhVBAREA4QmPqsOdN+aJNuMtl72Z2dOXDH41Hb7VZRFCn5SJV8ZsqLUk3byw+TWj88MWqeFxHL8srfI5yR3TzPiuNYu91O5/NZdV3p8Rjlfae+7zUMYPjR9Bec994UZlmmruueZA9rnKbJ8J8wwvv9boT7/d5I27ZV0zRiEOQhAwbQhCsy+3Ec32eEKYQIJEliGevX61WXy0Wn00kMBVgvy9IGsr7dbuaK4J694502m429I0p5y8Ph8G4kowSFKCmKwlxAWFWVKeOOM8Q4JK9WKyNbr9dvcojqujalwS7NKIIYQsipC4R5nstxgVV+H3KapgbsUkwTJAymlicKa2yGD0lm72iACPmooRi8fpnhVwTSUAtYfwFXBrYgyf05pgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Portworx Service",title:"IBM Portworx Service",src:"/ibm-enterprise-runbooks/static/98fd99877aa66a937403e1484845a891/7ccc2/PortworxPods.png",srcSet:["/ibm-enterprise-runbooks/static/98fd99877aa66a937403e1484845a891/7fc1e/PortworxPods.png 288w","/ibm-enterprise-runbooks/static/98fd99877aa66a937403e1484845a891/a5df1/PortworxPods.png 576w","/ibm-enterprise-runbooks/static/98fd99877aa66a937403e1484845a891/7ccc2/PortworxPods.png 902w"],sizes:"(max-width: 902px) 100vw, 902px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "))),Object(o.b)("h3",null,"Download Installation files"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Download installation files from: ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/IBM/cpd-cli/releases"}),"https://github.com/IBM/cpd-cli/releases")),Object(o.b)("li",{parentName:"ol"},"Copy the downloaded tar file to a system where you have setup oc cli"),Object(o.b)("li",{parentName:"ol"},"Extract the contents of the tar file"),Object(o.b)("li",{parentName:"ol"},"Obtain your Entitlement key from : ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://myibm.ibm.com/products-services/containerlibrary"}),"https://myibm.ibm.com/products-services/containerlibrary")," by logging in with you IBM ID connected with Partner World"),Object(o.b)("li",{parentName:"ol"},"Edit  repo.yaml which can be found in the extracted contents of the tar file. Specify username as cp and apiKey as Entitlement Key obtained in above step.")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Note :")," If you are installing multiple services on your cluster, you must run the installations one at a time and wait until the installation completes before installing another service. You cannot run the installations in parallel."),Object(o.b)("h3",null,"Installing Control Plane"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly lite --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give any name where you will install Cloud Pak for Data Control Plane. For example:  cpd301. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly lite --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to grant cpd-admin-role to the project administration user:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc adm policy add-role-to-user cpd-admin-role <project_admin> --role-namespace=<project-name> -n <project-name>\n")),Object(o.b)("p",{parentName:"li"},"project-admin : The user name of the project administrator who will install the Cloud Pak for Data control plane.\nproject-name :  Give any name where you will install Cloud Pak for Data Control Plane.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install Control Plane"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo repo.yaml --assembly lite --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly lite --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"At the end of the installation, an URL will be printed which is a Cloud Pak for Data web console URL. You can verify it by logging in with admin/password"))),Object(o.b)("h3",null,"Installing Data Virtualization"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly dv --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly dv --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install Data Virtualization"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo repo.yaml --assembly dv --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly dv --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"At the end of the installation, an URL will be printed which is a Cloud Pak for Data web console URL. You can verify it by loggin in with admin/password")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to Cloud Pak for Data Web Console. Click the Services icon from the top right corner of the user interface")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"From the list of services, locate the Data Virtualization service under the Data sources category. Click the action menu and select Provision instance. ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Check the “You must check this box if you updated the kernel semaphore parameter” box")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Specify the resources that you want to allocate to the Data Virtualization worker nodes in the Nodes section\na.\tSpecify the number of Data Virtualization worker nodes to allocate to the service. Recommended: One worker node is sufficient for most workloads.\nb.\tSpecify the number of cores to allocate to each worker node. 16 cores is recommended\nc.\tSpecify the amount of memory to allocate to each worker node. 64 GB is recommended."),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"748px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"56.25%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJUlEQVQoz42SiY6DMAxE+f9/pBS223A14UhYcpTZ2NtIVOrSRhpsUPwyxsnMsuBcXpAXFYRo8H1t0HYS2wZeW0y2x0vKj5QtdsNXPUFOFrmwKK8q5g56cRgGBecc1nWFGgZYa/FuZVTgncV297HAw8Wie/AIwTMghIDgXQSvHL33h8ratsXpVKAozsjznGNVVVBKsaSU6OWMVhrclMY8z4fKqEAIgbquWV3Xsfq+Z1EuuhmX1qC5aWgdofovvlJG1GmamD6OI5Y4JGPMkxaj8WPmGMnF/zAG0oMg9OMJnODs5Kkd/YDt8xfAIU6vLEtWapGckpLDdMAn4pYJRMOhD+QwAdOmveO3wOSQBkPuCJxEG8jhpzAGkqOmafh67Nujg/aQT4G/jf1OPTMqce4AAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Data Virtualization",title:"IBM Data Virtualization",src:"/ibm-enterprise-runbooks/static/9215ade704a13a84fc29ab9ef6efc182/36c9f/ConfigureDV.png",srcSet:["/ibm-enterprise-runbooks/static/9215ade704a13a84fc29ab9ef6efc182/7fc1e/ConfigureDV.png 288w","/ibm-enterprise-runbooks/static/9215ade704a13a84fc29ab9ef6efc182/a5df1/ConfigureDV.png 576w","/ibm-enterprise-runbooks/static/9215ade704a13a84fc29ab9ef6efc182/36c9f/ConfigureDV.png 748w"],sizes:"(max-width: 748px) 100vw, 748px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"In Storage Section, Select Persistent Storage class as “ibmc-file-gold-gid”. You can change the amount of storage based on your requirements. Select Cache Storage class as “ibmc-file-gold-gid”. You can change the amount of cache storage based on your requirements."),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"620px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"102.43055555555556%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACAUlEQVQ4y52TiXKbMBiEef/Xc4tTiGvHDrc4zH1vtWKEcZKJ6zDzCSHEav8DY5omJLHA5fwG33PlPIKIQsQiAuYRj655nu+ejXGccDjH2L+68i5wcnPYpwjH9wQin+EmE4KkRVzMKOoJbdugaRqM46jEPmJQP69G9MPiph2AJCvR96Oav4sBIk7Q9RO6bsD1esU1zz85Wx22bYuqLFHXFYoiR9vUmKYRwzBIeszTAKaFc0JnpO/7ha4FNTQGT3x5MXF4tWCaJo7HI5JEhivEQhwjiiKJuK2txBBpIY3cMPK8gPUW489JIOIGuTEMQwRBoKCY7/vrM+d8H8q55wc4B6UUKlGWCwZVnSBTpGmmclRV1RoCC1DX9Qcqdee+qiykkHSnBdM0gfn7F/4ebFiWpfA8TznTrngIN29Du3FzpwRzWTHHceG4rgonTVPEMm/bsCn4tdhnDKrSOgUoxIIwHFZyqfSgqtl13bfwmzWHnGRZptwxVK4xd89AU0qQA4XokOGzEPq0/w3zLmTthgI6PLLdtE36I5TgtqJ0qe3rNtFuH4kphyzCbreDbdvY7/e4XC5KmK3jOI5i2zbfid05pAD/EjqkAPPKwwjXHuV0dahDY8sQin7VNo9Y24YDHdAJXWmX6rd6grUoHBgihfiCTar76sdtw4/pSnf9tm2eaRnyD0TRAECYjdc5AAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Data Virtualization",title:"IBM Data Virtualization",src:"/ibm-enterprise-runbooks/static/6c9d0eac4cb184657fc126038b4f9b31/6755f/ConfigureDV1.png",srcSet:["/ibm-enterprise-runbooks/static/6c9d0eac4cb184657fc126038b4f9b31/7fc1e/ConfigureDV1.png 288w","/ibm-enterprise-runbooks/static/6c9d0eac4cb184657fc126038b4f9b31/a5df1/ConfigureDV1.png 576w","/ibm-enterprise-runbooks/static/6c9d0eac4cb184657fc126038b4f9b31/6755f/ConfigureDV1.png 620w"],sizes:"(max-width: 620px) 100vw, 620px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click Next")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Verify the summary and click on Provision. It will take 10-15 mins to provision."))),Object(o.b)("h3",null,"Installing Watson Studio"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly wsl --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly wsl --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install Watson Studio"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo repo.yaml --assembly wsl --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly wsl --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"At the end of the installation, an URL will be printed which is a Cloud Pak for Data web console URL. You can verify it by logging in with admin/password"))),Object(o.b)("h3",null,"Installing Watson Machine Learning"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly wml --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly wml --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install Watson Machine Learning"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo repo.yaml --assembly wml --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly wml --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"At the end of the installation, an URL will be printed which is a Cloud Pak for Data web console URL. You can verify it by logging in with admin/password"))),Object(o.b)("h3",null,"Installing Watson Openscale"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly aiopenscale --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly aiopenscale --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install Watson Openscale"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo repo.yaml --assembly aiopenscale --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly aiopenscale --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"At the end of the installation, an URL will be printed which is a Cloud Pak for Data web console URL. You can verify it by logging in with admin/password"))),Object(o.b)("h3",null,"Installing Cognos Dashboards"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly cde --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly cde --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install Cognos Dashboards"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo repo.yaml --assembly cde --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly cde --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"At the end of the installation, an URL will be printed which is a Cloud Pak for Data web console URL. You can verify it by logging in with admin/password"))),Object(o.b)("h3",null,"Installing Watson Knowledge Catalog"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly wkc --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly wkc --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install Watson Knowledge Catalog"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo repo.yaml --assembly wkc --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly wkc --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"At the end of the installation, an URL will be printed which is a Cloud Pak for Data web console URL. You can verify it by logging in with admin/password"))),Object(o.b)("h3",null,"Installing DataStage Enterprise"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly ds-ent --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly ds-ent --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install DataStage Enterprise"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo repo.yaml --assembly ds-ent --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly ds-ent --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"At the end of the installation, an URL will be printed which is a Cloud Pak for Data web console URL. You can verify it by logging in with admin/password"))),Object(o.b)("h3",null,"Installing Regulatory Accelerator"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly iira --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly iira --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install Regulatory Accelerator"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo repo.yaml --assembly iira --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly iira --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"At the end of the installation, an URL will be printed which is a Cloud Pak for Data web console URL. You can verify it by logging in with admin/password"))),Object(o.b)("h3",null,"Installing DB2 Warehouse"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly db2wh --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly db2wh --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"If you want to run database on a dedicated compute nodes, follow the steps at : ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/cpd/svc/dbs/db2w-dednodes.html"}),"https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/cpd/svc/dbs/db2w-dednodes.html")," to label nodes")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install DB2 Warehouse"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo repo.yaml --assembly db2wh --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly db2wh --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"At the end of the installation, an URL will be printed which is a Cloud Pak for Data web console URL. You can verify it by logging in with admin/password")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"From navigation on the left side, select Collect -> My data")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Open the Databases tab, which is only visible after you install the database service.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click Create a database.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Select the database type and version. Click Next.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"In the Configure area, specify the number of nodes, memory per node, and CPU per node. An error message will be displayed if adequate resources are not found")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"If you are using a dedicated node, click Deploy database on dedicated nodes and enter the node label in the Value for node label box that you mentioned in Step 5 above"),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"638px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"91.31944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAABkUlEQVQ4y5WU226DMBBE+f/P60OfUimXQrhfg+1AyJRZ1YlxoU0trTDEPp7ZXSfQA9CqOTSgzYi2bVEUBcZxBMf9fsftdns5AqMV6qpAWeQzKJ8BwDAMiKIIu91Onl3X4XK5yNOG++7OA32doLQROlVRkdYaSZLgdDrhfD7LBj8syD8oSBogr/pZlYEdxhjEcSzQpmkWG1xVdV3LnOstWIB1Z+aPagFkHsuylIXM6xqQh/E3V2lwvY7ywrzZQctpmuJ4PCLPc1FKNX7eLLDv+yeQeVsDEkAoF3GTr3JT4TRNAmNRXCCLwTzSOsFU6gMtTCn1BMIZrLBbFIJox0KsUquWOa6qaqmQEDc4eGKWZY/8MXgAv7l9Z0H2AM5XgbQchiEOh4PAtvLo2v9h2QfSLvNoe/GVphaFW8AwjARo1a1dtbUbtAmMvi3z+lGtC9mCbQKV0viM4kfrsJpu8/pWF3d5Ddj3Cm/vH9jv93JbqJRF8m3/y3KepVIQ2mW7UOWWqj8Vsg+TJH3cEPlXaX+3auMLjZZsu2slWCAAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM DB2 Warehouse Provisioning",title:"IBM DB2 Warehouse Provisioning",src:"/ibm-enterprise-runbooks/static/0ea7babd7ffa528b00b723aefa71dbe9/1aa38/ConfigureDB2wh.png",srcSet:["/ibm-enterprise-runbooks/static/0ea7babd7ffa528b00b723aefa71dbe9/7fc1e/ConfigureDB2wh.png 288w","/ibm-enterprise-runbooks/static/0ea7babd7ffa528b00b723aefa71dbe9/a5df1/ConfigureDB2wh.png 576w","/ibm-enterprise-runbooks/static/0ea7babd7ffa528b00b723aefa71dbe9/1aa38/ConfigureDB2wh.png 638w"],sizes:"(max-width: 638px) 100vw, 638px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"For database storage, you can choose to keep your system data and user data together in a single location or put them in separate locations. System data contains the information that is used by Db2 Warehouse to manage and configure the database. User data is the main database data. If you choose Separate locations for all data, you must specify a storage volume type, a name, and a size for both storage locations.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Select Storage class “ibmc-file-gold-gid” and specify size for the System, User and Backup storage"),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"732px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"57.98611111111111%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABPElEQVQoz5WSi66CMBBE+f+P1GtAQYRS6AsUHTvVYom5RjeZ7BLKYXa7WW+BwQFumqGGAUIITNOEGNfr9SdlUsoAadsW8zwH2PF4RJ7nIWutoZT6WplSGtbaoNvttgB3ux2qqoJz7jfg+fxqj0Eg3R0OBxRFEWq6jE5j/Z8yZ40vzApIh4Tt93uUZYmu69D3fdK+ftMCNMZiHMcVcLvdYrPZLCKUs/7kLLrPjFYeOK2AnB0hdV0Ht03TfJybfsLCDOnucplXwLKW+MtrFKVA01lIfUY3TOjUU0ktfN1I54GPUWQRxBt+AEfUzYCT0KhOfcjSf5iq9z9In1tpX0CCohh0LGUX2haihTEGg194Lj1beuxtu8yMeXyuVphhdJcC+ZKLzttdLbavCSeUmeq90jNvLUcgnVHf7F565g5FhJ0u+qzcJwAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM DB2 Warehouse Provisioning",title:"IBM DB2 Warehouse Provisioning",src:"/ibm-enterprise-runbooks/static/0cdac4e2b12635863064ec80c4e2b57e/6c02e/ConfigureDB2wh1.png",srcSet:["/ibm-enterprise-runbooks/static/0cdac4e2b12635863064ec80c4e2b57e/7fc1e/ConfigureDB2wh1.png 288w","/ibm-enterprise-runbooks/static/0cdac4e2b12635863064ec80c4e2b57e/a5df1/ConfigureDB2wh1.png 576w","/ibm-enterprise-runbooks/static/0cdac4e2b12635863064ec80c4e2b57e/6c02e/ConfigureDB2wh1.png 732w"],sizes:"(max-width: 732px) 100vw, 732px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click Next")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Ensure that the summary is correct and click Create.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"You might have to wait 5 to 40 minutes, based on the number of worker nodes and amount of memory that were allocated to the deployment.The database is ready when it shows up as Available on the Databases tab."))),Object(o.b)("h3",null,"Installing DB2 Advanced Edition"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly db2oltp --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly db2oltp --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"If you want to run database on a dedicated compute nodes, follow the steps at : ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/cpd/svc/dbs/aese-dednodes.html"}),"https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/cpd/svc/dbs/aese-dednodes.html")," to label nodes")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install DB2 Advanced Edition"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo repo.yaml --assembly db2oltp --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly db2oltp --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"At the end of the installation, an URL will be printed which is a Cloud Pak for Data web console URL. You can verify it by logging in with admin/password")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"From navigation on the left side, select Collect -> My data")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Open the Databases tab, which is only visible after you install the database service.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click Create a database.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Select the database type and version. Click Next.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"In the Configure area, specify the number of nodes, memory per node, and CPU per node. An error message will be displayed if adequate resources are not found")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"If you are using a dedicated node, click Deploy database on dedicated nodes and enter the node label in the Value for node label box that you mentioned in Step 5 above"),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"696px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"94.79166666666666%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAABk0lEQVQ4y5WUC4+CMBCE+f+/0QsJKA8FebelHOwxe1lSEBSbTCSm/Tqzu+BpO1GliBpDpM1AdV1RnudkjKFxHGkYhq/k9UZTWeT0fGYzKCOsvu8ZmmXZ/P+T2rZlNU3zUV5nRirrlqy1rGmaSCnFwKqqqCgKKsuShQMCdyUwPHtZQ9QqO8f7JVlaawb6vs8uxW1d16vDuASXwoCAvbScKC9a0qpbAbERIDkkkoP4xQVyyQK0duAbUFBZaEiSJBTHMUcGWOAucNch6oYHNGILfDwe7MB1uI0MYc8CxGhAaAYkkS+XCzuMoojh0P1+X9VxK24KOUuAcIiocIhmIBKSIMWesH9xKM5ch9iAKNJhbAb0nT4CwzDkiNh8ZqBfIrtAQNI05Rqidm4d8R9K0XXdy6Czwz0gmgJ3ACCyO2eum7035xAIJ0EQsLvt/B3BDoGo4e1246bIrJ3+OBw5TGaH1+uVwajZO1crh3tdBjCK06UR8gn7yqE72Epp+vH/3UmnEf8M9MUhpOexwZcb7677Lp9x+AeQf7sYLnMfhAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM DB2 Advanced Edition Provisioning",title:"IBM DB2 Advanced Edition Provisioning",src:"/ibm-enterprise-runbooks/static/0de871fb9f12e9b2a15649e1459cbc81/19b24/ConfigureDB2oltp.png",srcSet:["/ibm-enterprise-runbooks/static/0de871fb9f12e9b2a15649e1459cbc81/7fc1e/ConfigureDB2oltp.png 288w","/ibm-enterprise-runbooks/static/0de871fb9f12e9b2a15649e1459cbc81/a5df1/ConfigureDB2oltp.png 576w","/ibm-enterprise-runbooks/static/0de871fb9f12e9b2a15649e1459cbc81/19b24/ConfigureDB2oltp.png 696w"],sizes:"(max-width: 696px) 100vw, 696px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"For database storage, you can choose to keep your system data and user data together in a single location or put them in separate locations. System data contains the information that is used by Db2 to manage and configure the database. User data is the main database data. If you choose Separate locations for all data, you must specify a storage volume type, a name, and a size for both storage locations.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Select Storage class “ibmc-file-gold-gid” and specify size for the System, User and Backup storage"),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"696px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"94.79166666666666%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAABk0lEQVQ4y5WUC4+CMBCE+f+/0QsJKA8FebelHOwxe1lSEBSbTCSm/Tqzu+BpO1GliBpDpM1AdV1RnudkjKFxHGkYhq/k9UZTWeT0fGYzKCOsvu8ZmmXZ/P+T2rZlNU3zUV5nRirrlqy1rGmaSCnFwKqqqCgKKsuShQMCdyUwPHtZQ9QqO8f7JVlaawb6vs8uxW1d16vDuASXwoCAvbScKC9a0qpbAbERIDkkkoP4xQVyyQK0duAbUFBZaEiSJBTHMUcGWOAucNch6oYHNGILfDwe7MB1uI0MYc8CxGhAaAYkkS+XCzuMoojh0P1+X9VxK24KOUuAcIiocIhmIBKSIMWesH9xKM5ch9iAKNJhbAb0nT4CwzDkiNh8ZqBfIrtAQNI05Rqidm4d8R9K0XXdy6Czwz0gmgJ3ACCyO2eum7035xAIJ0EQsLvt/B3BDoGo4e1246bIrJ3+OBw5TGaH1+uVwajZO1crh3tdBjCK06UR8gn7yqE72Epp+vH/3UmnEf8M9MUhpOexwZcb7677Lp9x+AeQf7sYLnMfhAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM DB2 Advanced Edition Provisioning",title:"IBM DB2 Advanced Edition Provisioning",src:"/ibm-enterprise-runbooks/static/0de871fb9f12e9b2a15649e1459cbc81/19b24/ConfigureDB2oltp.png",srcSet:["/ibm-enterprise-runbooks/static/0de871fb9f12e9b2a15649e1459cbc81/7fc1e/ConfigureDB2oltp.png 288w","/ibm-enterprise-runbooks/static/0de871fb9f12e9b2a15649e1459cbc81/a5df1/ConfigureDB2oltp.png 576w","/ibm-enterprise-runbooks/static/0de871fb9f12e9b2a15649e1459cbc81/19b24/ConfigureDB2oltp.png 696w"],sizes:"(max-width: 696px) 100vw, 696px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Click Next")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Ensure that the summary is correct and click Create.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"You might have to wait 5 to 40 minutes, based on the number of worker nodes and amount of memory that were allocated to the deployment. The database is ready when it shows up as Available on the Databases tab."))),Object(o.b)("h3",null,"Installing Cognos Analytics"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly ca --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly ca --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install Cognos Analytics"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo repo.yaml --assembly ca --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly ca --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"At the end of the installation, an URL will be printed which is a Cloud Pak for Data web console URL. You can verify it by logging in with admin/password")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To configure database for content store for Cognos Analytics"),Object(o.b)("p",{parentName:"li"},"a.\tYou need to have DB2 Advanced Edition installed prior to provisioning Cognos Analytics instance"),Object(o.b)("p",{parentName:"li"},"b.\tIn IBM Cloud Pak for Data, click My instances, and open the details for the provisioned IBM Db2 Advanced Edition instance."),Object(o.b)("p",{parentName:"li"},"c.\tCollect the following details:"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Database name"),Object(o.b)("li",{parentName:"ul"},"Deployment id"),Object(o.b)("li",{parentName:"ul"},"Username"),Object(o.b)("li",{parentName:"ul"},"Password"),Object(o.b)("li",{parentName:"ul"},"JDBC Connection URL")),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"868px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"53.81944444444444%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABAklEQVQoz3WSi46FIBBD/f//NL7lIbB7WbVLScYQrpg0OFDPdNTO//xBHx8Y9wvtIrT1ONyBzxlx3/cjXmXdUmeNwbrMWNcFWu1Q+46NazC4rgvneWbFGPPKvXK/VrcnwDQTuMI5B+89QpJ3KelxPBqGASY1572sb+q2bQNFGKHW2nxgK+M0TfmMsNL3BWTCOSVUSmUw6zcjITzTWmcYA7wCaRAToa3Oy7LklK2GzZGZlg1qI5vx/XJkin5JyRDyTB6ZZhmL8Dola6ajT14RffTLdA9QYBQ3y84lsPyyrEWsS3/X9z3GcUQI4fmC8guJSZq0VHpyQgIkIUcpU9eq09fQfwQ5TPrJiPehAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM DB2 Advanced Edition connection details",title:"IBM DB2 Advanced Edition connection details",src:"/ibm-enterprise-runbooks/static/537be743ab2dc5ad2d86338b235b78bf/075b9/DB2connection.png",srcSet:["/ibm-enterprise-runbooks/static/537be743ab2dc5ad2d86338b235b78bf/7fc1e/DB2connection.png 288w","/ibm-enterprise-runbooks/static/537be743ab2dc5ad2d86338b235b78bf/a5df1/DB2connection.png 576w","/ibm-enterprise-runbooks/static/537be743ab2dc5ad2d86338b235b78bf/075b9/DB2connection.png 868w"],sizes:"(max-width: 868px) 100vw, 868px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(o.b)("p",{parentName:"li"},"d.\tRun below command in terminal"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'export NAMESPACE=<Namespace of your CPD Installation>\nexport DB2USERNAME=<USERNAME>\nexport DB2PASSWORD=<PASSWORD>\nexport DB2DEPLOYMENTID=<DEPLOYMENTID>\nexport CMD="env DB2USERNAME=$DB2USERNAME DB2PASSWORD=$DB2PASSWORD  bash"\noc  exec -ti $DB2DEPLOYMENTID-db2u-0 -n $NAMESPACE -- $CMD\n')),Object(o.b)("p",{parentName:"li"},"e.\tFrom DB2 container , run below commands"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"cd /mnt/blumeta0/home/db2inst1/sqllib\n. ./db2profile   \ndb2 CONNECT to BLUDB user $DB2USERNAME using  $DB2PASSWORD \ndb2 UPDATE DATABASE CONFIGURATION USING APPLHEAPSZ 1024 DEFERRED; \ndb2 UPDATE DATABASE CONFIGURATION USING LOCKTIMEOUT 240 DEFERRED;\ndb2 CREATE BUFFERPOOL CMDB_08KBP IMMEDIATE SIZE 1000 PAGESIZE 8K;\ndb2 CREATE BUFFERPOOL CMDB_32KBP IMMEDIATE SIZE 1000 PAGESIZE 32K;\ndb2 CREATE SYSTEM TEMPORARY TABLESPACE TSN_SYS_CMDB IN DATABASE PARTITION GROUP IBMTEMPGROUP PAGESIZE 32K BUFFERPOOL CMDB_32KBP;\ndb2 CREATE USER TEMPORARY TABLESPACE TSN_USR_CMDB IN DATABASE PARTITION GROUP IBMDEFAULTGROUP PAGESIZE 8K BUFFERPOOL CMDB_08KBP;\ndb2 CREATE REGULAR TABLESPACE TSN_REG_CMDB IN DATABASE PARTITION GROUP IBMDEFAULTGROUP PAGESIZE 8K BUFFERPOOL CMDB_08KBP; \ndb2 DROP TABLESPACE USERSPACE1;\ndb2 CREATE SCHEMA db2COGNOS AUTHORIZATION $DB2USERNAME;\ndb2 ALTER BUFFERPOOL ibmdefaultbp size 49800\n\nexit\n")),Object(o.b)("p",{parentName:"li"},"f.\tCreate a connection to DB2 instance created"),Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Log in to the Cloud Pak for Data web client."),Object(o.b)("li",{parentName:"ul"},"From the menu, select Connections."),Object(o.b)("li",{parentName:"ul"},"Click Add connection."),Object(o.b)("li",{parentName:"ul"},"Enter a name and a description for the connection."),Object(o.b)("li",{parentName:"ul"},"Select Db2 for the Connection type."),Object(o.b)("li",{parentName:"ul"},"On the New connection page, enter the following information from step 2 in this task.",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Host (Collected from step d above)"),Object(o.b)("li",{parentName:"ul"},"Port (Collected from step d above)"),Object(o.b)("li",{parentName:"ul"},"Database name"),Object(o.b)("li",{parentName:"ul"},"Username"),Object(o.b)("li",{parentName:"ul"},"Password"))),Object(o.b)("li",{parentName:"ul"},"To test the connection, click Test connection on the New connection page."),Object(o.b)("li",{parentName:"ul"},"Click Create. The connection is saved.")),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"854px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"49.65277777777777%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA/ElEQVQoz32SzQ6DIBCEeff21D6Jxz5Rb70oCoKIP3HrbDONsVqTCQi7H7MLJqZB2pAkpU7wLcui4redb/fPZFzTiLWVdF0n8zzLNE2HGsdRx38xkGlWYNu2MgyD5JwPhX3EhRCk73tVSknFeYxR9433XhOwiGSAt4KzqqqkLEuFWms1EYAjKZAnQUcO67pW8XAmA0x9gTgV/dtDsMYDMHfOKRQjwNDeqZaMEhBEh4QwCP8IZLmEwunWIeGGPQGEDWbzuYZAACg4hhDL+dchb++z+bkt752OTKDTsx6zIgUWRSGXy1Wer/Vp+Ci3R5b7Y73dHNYHH37K+idA34xCA1SrrdzBAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM DB2 Advanced Edition connection",title:"IBM DB2 Advanced Edition connection",src:"/ibm-enterprise-runbooks/static/84fa134c089a15a85e83fc592dbf1176/f8087/DB2connection1.png",srcSet:["/ibm-enterprise-runbooks/static/84fa134c089a15a85e83fc592dbf1176/7fc1e/DB2connection1.png 288w","/ibm-enterprise-runbooks/static/84fa134c089a15a85e83fc592dbf1176/a5df1/DB2connection1.png 576w","/ibm-enterprise-runbooks/static/84fa134c089a15a85e83fc592dbf1176/f8087/DB2connection1.png 854w"],sizes:"(max-width: 854px) 100vw, 854px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    ")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Provision an instance of Cognos Analytics"),Object(o.b)("p",{parentName:"li"},"a.\tLog in to Cloud Pak for Data as an administrator."),Object(o.b)("p",{parentName:"li"},"b.\tFrom the toolbar, click the Services icon"),Object(o.b)("p",{parentName:"li"},"c.\tFind the Cognos Analytics service and ensure that it is Available."),Object(o.b)("p",{parentName:"li"},"d.\tFrom the action menu, select Provision instance."),Object(o.b)("p",{parentName:"li"},"e.\tSelect a Shared Volume Storage class ibmc-file-gold-gid."),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"802px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"47.22222222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAn0lEQVQoz52S2QrCMBBF8/8/6UNBTSSKzb7MXJNCi7YvphcOwwTmQDIR003jMilI9YCSElpr1FpxNmJ2BaUQQoytFsRWQwggokU8inDOwlrTsD8Yczz7B9EH93xLRxHroPceOefluiH4hZJTe4Y8xCbsop7ZOFzlE3f1gk+EVIA4wEFYCXjbhLkRMw/hEx+FfdMAn/82e+Ha9zDzEESMD+cCwDbHseblAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Cognos Analytics Provisioning",title:"IBM Cognos Analytics Provisioning",src:"/ibm-enterprise-runbooks/static/4d8c9cd03801f6d19cc2cc309012e2de/32d86/createCA.png",srcSet:["/ibm-enterprise-runbooks/static/4d8c9cd03801f6d19cc2cc309012e2de/7fc1e/createCA.png 288w","/ibm-enterprise-runbooks/static/4d8c9cd03801f6d19cc2cc309012e2de/a5df1/createCA.png 576w","/ibm-enterprise-runbooks/static/4d8c9cd03801f6d19cc2cc309012e2de/32d86/createCA.png 802w"],sizes:"(max-width: 802px) 100vw, 802px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(o.b)("p",{parentName:"li"},"f.\tSelect the plan size for the instance."),Object(o.b)("p",{parentName:"li"},"g.\tSelect the connection that you previously defined."),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"746px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"44.09722222222222%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAoUlEQVQoz52R2woDIQxE/f//7BXWteulpmadJrb7UFhK04FDxDiDIa5Qx5IfuMUqlRDjghACiAi9dxPr2uEgmuYFh/OE03XG8TJj8kGaK6xqYnGtMcqdUInHT++VhIqcM5gZrbWfYW5wMUakJEjN6X0eJGjPitsz6t3GX4GbcRuzysillLEYy8jKR6CGqLR678cDq74G6qat7AZq47U1NvMEf13AGBxoSQkAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Cognos Analytics Provisioning",title:"IBM Cognos Analytics Provisioning",src:"/ibm-enterprise-runbooks/static/59ddba338a1dedebc2aeb2f8d67227d2/5fc4a/createCA1.png",srcSet:["/ibm-enterprise-runbooks/static/59ddba338a1dedebc2aeb2f8d67227d2/7fc1e/createCA1.png 288w","/ibm-enterprise-runbooks/static/59ddba338a1dedebc2aeb2f8d67227d2/a5df1/createCA1.png 576w","/ibm-enterprise-runbooks/static/59ddba338a1dedebc2aeb2f8d67227d2/5fc4a/createCA1.png 746w"],sizes:"(max-width: 746px) 100vw, 746px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "),Object(o.b)("p",{parentName:"li"},"h.\tClick Next."),Object(o.b)("p",{parentName:"li"},"i.\tReview the summary and click Create. It will take approximately 30 min to provision an instance"),Object(o.b)("span",Object(n.a)({parentName:"li"},{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"746px"}}),"\n      ",Object(o.b)("span",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"74.30555555555556%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9UlEQVQ4y51Tyw7DIAzj//9qxx123WHSvmCPqi3QJ2QzUhCk0E5DsiI1nhPHmqLC895nVRtL19udjLXFfvqUJEjgPd8Nnc4XeryaIi9dRMmt5KbDMJAxhux3O611qJKbCis5cZomGscxVghCBJWB7wzwsg0305wn51xE6Qyyv7GMSbCzLAv989JhQXBd10yscM74Q3B9jcA3xB14w5LF1CoCYtESgiCEOMk9QQCcnwQ5vSNBcGphRcF5noNlVJmiBLar9TaWQa79YxjMqfEyy8CeHfQQIO7IAUp+tNy2LXVdd3jHvu8DasEotgFRxt4N0U+3k/gAQlCiZbhvLFIAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(o.b)("img",Object(n.a)({parentName:"span"},{className:"gatsby-resp-image-image",alt:"IBM Cognos Analytics Provisioning",title:"IBM Cognos Analytics Provisioning",src:"/ibm-enterprise-runbooks/static/2f9bffb7ddf12b4e0bf6a73cc3121f95/5fc4a/createCA2.png",srcSet:["/ibm-enterprise-runbooks/static/2f9bffb7ddf12b4e0bf6a73cc3121f95/7fc1e/createCA2.png 288w","/ibm-enterprise-runbooks/static/2f9bffb7ddf12b4e0bf6a73cc3121f95/a5df1/createCA2.png 576w","/ibm-enterprise-runbooks/static/2f9bffb7ddf12b4e0bf6a73cc3121f95/5fc4a/createCA2.png 746w"],sizes:"(max-width: 746px) 100vw, 746px",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",top:"0",left:"0"},loading:"lazy"})),"\n    "))),Object(o.b)("h3",null,"Installing Watson Assistant"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Cordon all non-bare metal server nodes"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc adm cordon <node-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Create a wa-repo.yaml file with below contents. Replace {entitlement-key} with your Entitlement key"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'registry:\n    - url: cp.icr.io/cp/cpd\n    username: "cp"\n    apikey: {entitlement-key}\n    namespace: ""\n    name: base-registry\n    - url: cp.icr.io\n    username: "cp"\n    apikey: {entitlement-key}\n    namespace: "cp/watson-assistant"\n    name: wa-registry\nfileservers:\n    - url: https://raw.github.com/IBM/cloud-pak/master/repo/cpd3\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Create a Portworx storage class named “portworx-assistant”. Run below snippet"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'cat <<EOF | oc create -f -\napiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n    name: portworx-assistant\nparameters:\n    repl: "3"\n    priority_io: "high"\n    io_profile: "db"\n    block_size: "64k"\nallowVolumeExpansion: true\nprovisioner: kubernetes.io/portworx-volume\nreclaimPolicy: Retain\nvolumeBindingMode: Immediate\nEOF\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to bind the restricted SecurityContextConstraint to the Cloud Pak for Data namespace in which you will install the service:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc adm policy add-scc-to-group restricted system:serviceaccounts:{namespace}\n")),Object(o.b)("p",{parentName:"li"},"where {namespace} is the namespace in which Cloud Pak for Data is installed.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Add the cluster namespace label to your service namespace."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc label --overwrite namespace {namespace} ns={namespace}\noc project {namespace}\n")),Object(o.b)("p",{parentName:"li"},"{namespace} – project name where Cloud Pak for data is installed and Watson Assistant is to be installed")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"From the namespace where the Cloud Pak for Data cluster is installed, get the name of the secret for pulling images from the internal Docker registry."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc get secrets | grep default-dockercfg\n")),Object(o.b)("p",{parentName:"li"},"Make a note of the secret. You will add it as the value for the global.image.pullSecret setting in the override file that you create in the next step. For example:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'global:\n    image:\n    pullSecret: "default-dockercfg-gqfb4"\n    ```\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Create an override file as below where you can change configuration settings of Watson Assistant deployment. Make sure you update pullSecret from the above step. For more information : ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/cpd/svc/watson/assistant-override.html"}),"https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/cpd/svc/watson/assistant-override.html")),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'global:\n    # On uninstall do not preserve the datastores\n    keep: false\n\n    # The storage class used for datastores\n    storageClassName: "portworx-assistant"\n\n    # Choose between "Development" and "Production"\n    deploymentType: "Development"\n\n    # The name of the secret for pulling images.\n    # The value for "global.image.pullSecret" below does not need to be changed for Development\n    # installations where pods will pull docker images directly from the Entitled Docker Registry.\n    # For Production installations where docker images will be pulled locally to the Openshift\n    # Docker Registry, "global.image.pullSecret" will need to be set to the value obtained by\n    # running oc get secrets | grep default-dockercfg in the namespace where IBM Cloud\n    # Pak for Data is installed.\n\n    image:\n    pullSecret: "default-dockercfg-l8fgp"\n\n    # global.languages.[language] - Specifies whether [language] should be installed or not.\n    languages:\n    english: true\n    german:  false\n    arabic: false\n    spanish: false\n    french: false\n    italian: false\n    japanese: false\n    korean: false\n    portuguese: false\n    czech: false\n    dutch: false\n    chineseTraditional: false\n    chineseSimplified: false\n\n# the storageclass used for postgres backup\npostgres:\n    backup:\n    dataPVC:\n        storageClassName: portworx-assistant\n\n# use "2.5.0.0" for CP4D 2.5.0 (carbon 9) and "3.0.0.0" for CP4D 3.0.0 and 3.0.1 (carbon 10)\ningress:\n    wcnAddon:\n    addon:\n        platformVersion: "3.0.0.0"\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install Watson Assistant"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo wa-repo.yaml --assembly ibm-watson-assistant --version 1.4.2 --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass portworx-assistant --override overrides.yaml\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly ibm-watson-assistant --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Provision an instance of Watson Assistant\na.\tLog in to Cloud Pak for Data as an administrator.\nb.\tFrom the toolbar, click the Services icon\nc.\tFind the Watson Assistant service and ensure that it is Available.\nd.\tFrom the action menu, select Provision instance.\ne.\tGive Instance name and Click on Create.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Uncordon all non-bare metal server nodes"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc adm cordon <node-name>\n")))),Object(o.b)("h3",null,"Installing Watson Discovery"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you did Kernel Parameters settings mentioned in “Setting up Openshift Cluster for Cloud Pak for Data Installation” Step 3")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Cordon all non-bare metal server nodes"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc adm cordon <node-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Create a wd-repo.yaml file with below contents. Replace {entitlement-key} with your Entitlement key"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'registry:\n    - url: cp.icr.io/cp/cpd\n    username: "cp"\n    apikey: {entitlement-key}\n    namespace: ""\n    name: base-registry\n    - url: cp.icr.io/cp/watson-discovery\n    username: "cp"\n    apikey: {entitlement-key}\n    name: watson-discovery-registry\nfileservers:\n    - url: https://raw.github.com/IBM/cloud-pak/master/repo/cpd3\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Create Portworx storage class named “portworx-db-gp3”. Run below snippet"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'cat <<EOF | oc create -f -\napiVersion: storage.k8s.io/v1\nkind: StorageClass\nmetadata:\n    name: portworx-db-gp3\nparameters:\n    io_profile: "db_remote"\n    repl: "3"\nallowVolumeExpansion: true\nprovisioner: kubernetes.io/portworx-volume\nreclaimPolicy: Retain\nvolumeBindingMode: Immediate\nEOF\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"From the namespace where the Cloud Pak for Data cluster is installed, get the name of the secret for pulling images from the internal Docker registry."),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc get secrets | grep default-dockercfg\n")),Object(o.b)("p",{parentName:"li"},"Make a note of the secret. You will add it as the value for the global.image.pullSecret setting in the override file that you create in the next step. For example:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'global:\n    image:\n    pullSecret: "default-dockercfg-gqfb4"\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Create an override file wd-override.yaml as below where you can change configuration settings of Watson Discovery deployment. Make sure you update pullSecret from the above step. For more information : ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/cpd/svc/watson/discovery-override.html"}),"https://www.ibm.com/support/producthub/icpdata/docs/content/SSQNUZ_current/cpd/svc/watson/discovery-override.html")),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'global:\n    deploymentType: "Development"\n    contentIntelligence:\n    enabled: true\n    image:\n    # minio/postgresql/rabbitmq\n    pullSecret: "your-default-dockercfg-secret"\n    # etcd\n    imagePullSecret: "<pull-secret>"\ncore:\n    ingestion:\n    mount:\n        storageClassName: "portworx-db-gp3"\nelastic:\n    persistence:\n    storageClassName: "portworx-db-gp3"\ncrust:\n    networkPolicy: \n    create: false\nmantle: \n    networkPolicy:\n    create: false \nnetworkPolicy:\n    create: false\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly watson-discovery --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo repo.yaml --assembly watson-discovery --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install Watson Discovery"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo wd-repo.yaml --assembly watson-discovery --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid --override wd-override.yaml\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly watson-discovery --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Provision an instance of Watson Discovery\na.\tLog in to Cloud Pak for Data as an administrator.\nb.\tFrom the toolbar, click the Services icon\nc.\tFind the Watson Discovery service and ensure that it is Available.\nd.\tFrom the action menu, select Provision instance.\ne.\tGive Instance name and Click on Create.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Uncordon all non-bare metal server nodes"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc adm uncordon <node-name>\n")))),Object(o.b)("h3",null,"Installing Watson Knowledge Studio"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Login to your Redhat Openshift Cluster"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"oc login –token=<obtained from Openshift Web Console> --server=<obtained from Openshift Web Console>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Make sure you are in a directory where Installation tar is extracted")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Create a wks-repo.yaml file with below contents. Replace {entitlement-key} with your Entitlement key"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'registry:\n    - url: cp.icr.io/cp/cpd\n    username: "cp"\n    apikey: {entitlement-key}\n    namespace: ""\n    name: base-registry\n    - url: cp.icr.io/cp/knowledge-studio\n    username: "cp"\n    apikey: {entitlement-key}\n    name: wks-registry\nfileservers:\n    - url: https://raw.github.com/IBM/cloud-pak/master/repo/cpd3\n'))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"See what changes need to be made to the cluster, by running the appropriate cpd adm command for your environment:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo wks-repo.yaml --assembly watson-ks --namespace <project-name>\n")),Object(o.b)("p",{parentName:"li"},"Operating_System :  Matching OS with the system from which you are running commands. For Linux, specify linux. For Mac OS, specify darwin.\nproject-name :  Give project name where you have installed Cloud Pak for Data Control Plane. Use the same name in all next commands.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Apply changes to your cluster which you saw in above step"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System adm --repo wks-repo.yaml --assembly watson-ks --namespace <project-name> --apply\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Run the following command to install Watson Knowledge Studio"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System --repo wks-repo.yaml --assembly watson-ks --namespace <project-name> --transfer-image-to $(oc get route -n openshift-image-registry |tail -1|awk '{print $2}')/<project-name> --target-registry-username $(oc whoami) --target-registry-password $(oc whoami -t) --insecure-skip-tls-verify --cluster-pull-prefix image-registry.openshift-image-registry.svc:5000/<project-name> --storageclass ibmc-file-gold-gid\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"To verify that the installation completed successfully, run the following command:"),Object(o.b)("pre",{parentName:"li"},Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"bin/cpd-Operating_System status --assembly watson-ks --namespace <project-name>\n"))),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Provision an instance of Watson Knowledge Studio"),Object(o.b)("p",{parentName:"li"},"a.\tLog in to Cloud Pak for Data as an administrator."),Object(o.b)("p",{parentName:"li"},"b.\tFrom the toolbar, click the Services icon"),Object(o.b)("p",{parentName:"li"},"c.\tFind the Watson Knowledge Studio service and ensure that it is Available."),Object(o.b)("p",{parentName:"li"},"d.\tFrom the action menu, select Provision instance."),Object(o.b)("p",{parentName:"li"},"e.\tGive Instance name and Click on Create."))))}g.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-install-data-index-mdx-8366e8c05eef1db9a8e8.js.map